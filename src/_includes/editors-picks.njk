<div class="editors-picks">
  <h3 class="ep-title">Editor's Picks</h3>
  <ul class="ep-list">
    {# First try to render posts explicitly marked with editorsPick: true #}
    {% set count = 0 %}
    {% for post in collections.articles %}
      {% if post.data.editorsPick and count < 3 %}
        <li class="ep-item">
          <a href="{{ post.url }}">{{ post.data.title }}</a>
          <div class="small muted">{{ post.date | readableDate }}</div>
        </li>
        {% set count = count + 1 %}
      {% endif %}
    {% endfor %}

    {# Fallback: if no explicit picks, show the latest 3 articles #}
    {% if count == 0 %}
      {% for post in collections.articles | slice(0,3) %}
        <li class="ep-item">
          <a href="{{ post.url }}">{{ post.data.title }}</a>
          <div class="small muted">{{ post.date | readableDate }}</div>
        </li>
      {% endfor %}
    {% endif %}
  </ul>
</div>